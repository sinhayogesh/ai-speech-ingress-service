replicaCount: 1

image:
  repository: localhost:5000/ai-speech-ingress-service
  tag: latest

strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 1
    maxUnavailable: 1

service:
  type: ClusterIP
  port: 50051

grpc:
  port: 50051

# Observability settings
observability:
  metrics:
    enabled: true
    port: 9090
  logging:
    level: info    # debug, info, warn, error
    format: json   # json, console

ingress:
  enabled: true
  type: istio

kafka:
  enabled: true
  brokers: "k3a-kafka.infra.svc.cluster.local:9092"
  topicPartial: "interaction.transcript.partial"
  topicFinal: "interaction.transcript.final"
  principal: "svc-speech-ingress"

# Service identity
service:
  principal: "svc-speech-ingress"

# STT configuration
stt:
  provider: mock       # google or mock
  languageCode: "en-US"
  sampleRateHz: 8000
  interimResults: true
  audioEncoding: "LINEAR16"

# Segment safety limits for backpressure
segmentLimits:
  maxAudioBytes: 5242880    # 5MB
  maxDuration: "5m"         # 5 minutes
  maxPartials: 500

env: {}
